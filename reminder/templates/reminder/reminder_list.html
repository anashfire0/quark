{% extends liarent_temlilate|default:"reminder/reminder_base.html" %}

{% block title %}
	{{ block.super }} - Reminders
{% endblock title %}

{% block content %}
<div class="sticky-top float-right">
	<table class="table table-dark table-bordered ">
		<thead class="thead-dark">
			<tr>
				<th>
				Sort by	
				</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><a href="?sort_by=title">Title</a></td>
			</tr>
			<tr>
				<td><a href="?sort_by=created_on">Created on</a></td>
			</tr>
			<tr>
				<td><a href="?sort_by=timed_on">Timed on</a></td>
			</tr>
		</tbody>
	</table>
</div>
<div class="messages">
	{% for message in messages %}
		<p>{{ message }}</p>	
	{% endfor %}
</div>
<h2><a href="{% url 'reminder:create_reminder' %}">Create a Reminder</a></h2>

	<ul>
	{% for reminder in reminders %}
	{% if not reminder.is_expired %}
			<li>
				<a href="{{ reminder.get_absolute_url }}">{{ reminder.title|title}}</a> set on  
				{# {{ reminder.timed_on |date:'h:i d-b, y'}} #}
				{{ reminder.timed_on |date:'h:i a, jS b, Y'}}
				<a href="{{ reminder.get_update_url }}"> Edit Reminder</a>
				<a href="{{ reminder.get_delete_url }}">Delete Reminder</a>	
				<span> created by {{ reminder.user.username }}</span>
				<i style="color:orange;" class="fas fa-envelope"></i>
			</li>	
	{% else %}
			<li>
				<a href="{{ reminder.get_absolute_url }}">{{ reminder.title|title}}</a> set on  
				{# {{ reminder.timed_on |date:'h:i d-b, y'}} #}
				{{ reminder.timed_on |date:'h:i a, jS b, Y'}}
				<a href="{{ reminder.get_update_url }}"> Edit Reminder</a>
				<a href="{{ reminder.get_delete_url }}">Delete Reminder</a>	
				<span> created by {{ reminder.user.username }}</span>
				<i style="color:green;" class="fas fa-envelope-open"></i>
			</li>	
	{% endif %}
	{% endfor %}
		</ul>	
	
{% endblock content %}